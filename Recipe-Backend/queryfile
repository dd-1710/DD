create database recipe_book;


CREATE TABLE recipe_list (id INT AUTO_INCREMENT PRIMARY KEY , recipe_name VARCHAR(255) , recipe_desc TEXT);
ALTER TABLE recipe_book.recipe_list ADD img_path TEXT
value (tomato.png)

INSERT INTO recipe (recipe_name, recipe_desc, img_path)
VALUES
('Tomato Soup', 'A warm and comforting tomato soup, perfect for chilly days', 'tomatosoup.png'),
('Masala Dosa', 'Crispy and golden, a timeless favorite on every plate.', 'dosa.png'),
('Idli and Sambar', 'Soft, fluffy idlis served with spicy, flavorful sambar', 'idli_with_sambar.png'),
('Vegetable Salad', 'A fresh and vibrant salad, perfect for a healthy meal.', 'vegsalad.png'),
('Chocolate Cake', 'A rich and moist chocolate cake, perfect for dessert lovers.', 'chocolatecake.png'),
('Coffee', 'A rich, bold coffee brewed for the perfect pick-me-up', 'coffee.png'),
('Orange Juice', 'A refreshing, tangy juice packed with vitamin C', 'orange_juice.png'),
('Paneer Butter Masala', 'A smooth and flavorful curry with paneer and butter.', 'paneer.png'),
('Masala Chai', 'A spiced, aromatic tea with a perfect blend of Indian spices', 'masala_chai.png'),
('Uttapam', 'Savory rice pancakes topped with chopped vegetables.', 'uttapam.png'),
('Banana Smoothie', 'A creamy and sweet smoothie made with ripe bananas and a touch of honey', 'banana_smoothie.png'),
('Beetroot Juice', 'A vibrant, healthy juice with the earthy taste of beetroot', 'beetroot_juice.png'),
('Lemon and Mint Juice', 'A cool, zesty blend of lemon and fresh mint', 'lemon_mint_juice.png'),
('Wheat Pizza', 'Healthy whole wheat pizza topped with veggies and cheese.', 'wheat_pizza.png'),
('Berry Smoothie', 'A refreshing smoothie made with mixed berries and yogurt', 'berry_smoothie.png'),
('Wheat Burger', 'A healthy burger with a whole wheat bun and veggie patty.', 'wheat_burger.png'),
('Mango Juice', 'A smooth, tropical juice made from ripe mangoes', 'mango_juice.png'),
('Brownie', 'A soft and chewy chocolate brownie, rich and indulgent.', 'brownie.png'),
('Veg Noodles', 'Stir-fried noodles with colorful vegetables and soy sauce.', 'noodles.png'),
('Green Tea', 'A light, soothing tea packed with antioxidants', 'green_tea.png')


CREATE TABLE view_recipe (
id INT PRIMARY KEY AUTO_INCREMENT,
preparation_time VARCHAR(10),
cooking_time VARCHAR(10),
ingredients TEXT,
recipe_procedure TEXT
)

Tomatoes, Onion, Garlic, Ginger, Butter, Black pepper, Salt, Sugar, Water, Coriander leaves, Fresh cream

ALTER TABLE recipe_process ADD serve VARCHAR(255)

INSERT INTO recipe_process (
    preparation_time,
    cooking_time,
    ingredients,
    recipe_procedure,
    serve
) VALUES (
    '10 mins',
    '20 mins',
    '4 medium ripe tomatoes  
1 small onion, finely chopped  
2 garlic cloves, crushed  
1-inch piece of ginger, grated  
1 tsp butter or ghee  
1/4 tsp black pepper powder  
Salt to taste  
2 cups water  
Fresh coriander leaves, for garnish  
2 tbsp fresh cream (optional)',
    '1. Wash and roughly chop the tomatoes.  
2. In a pan, heat the butter or ghee over medium heat. Add the chopped onion, garlic, and ginger, and sauté until the onion becomes translucent.  
3. Add the chopped tomatoes and cook for 5 to 7 minutes, or until they soften.  
4. Pour in 2 cups of water. Add salt and black pepper, then let the mixture simmer for about 10 minutes.  
5. Allow it to cool slightly, then blend into a smooth puree using a mixer or hand blender.  
6. Strain the puree to remove seeds and skin for a smoother texture.  
7. Reheat the strained soup over low heat. Taste and adjust the seasoning if needed. Stir in the cream if using.  
8. Serve hot, garnished with fresh coriander leaves or croutons.',
    '2–3 servings'
);



INSERT INTO recipe_process (
    preparation_time,
    cooking_time,
    ingredients,
    recipe_procedure,
    serve
) VALUES (
    '30 mins',
    '20 mins',
    'For the Dosa batter:
    1 cup rice
    1/3 cup split urad dal (black gram)
    1/2 tsp fenugreek seeds (optional)
    Water (for soaking and grinding)
    Salt to taste
    
    For the Potato filling:
    3 large potatoes, boiled and mashed
    1 onion, finely chopped
    1 green chili, chopped (optional)
    1 tsp mustard seeds
    1 tsp turmeric powder
    1 tsp cumin seeds
    1/2 tsp hing (asafoetida)
    1 tbsp oil
    Salt to taste
    Fresh coriander leaves, chopped (optional)',
    '1. Rinse the rice, urad dal, and fenugreek seeds. Soak them separately for at least 4-6 hours or overnight.  
    2. Drain the soaked ingredients and grind them together in a blender or wet grinder, adding enough water to form a smooth batter. The consistency should be like pancake batter.  
    3. Ferment the batter for 8-12 hours or overnight in a warm place.  
    4. For the potato filling: In a pan, heat oil and add mustard seeds. Once they crackle, add cumin seeds, hing, and turmeric powder.  
    5. Add chopped onions and green chilies, sautéing until the onions become soft.  
    6. Add the boiled and mashed potatoes, mix well, and cook for 2-3 minutes. Season with salt and stir in chopped coriander leaves. Set aside.  
    7. Heat a non-stick griddle or dosa pan. Pour a ladleful of dosa batter onto the pan and spread it into a thin circle. Drizzle some oil around the edges.  
    8. Cook the dosa until the bottom is golden brown and crispy.  
    9. Place a portion of the potato filling in the center of the dosa, fold it in half, and serve hot.  
    10. Repeat for the remaining dosas. Serve with chutney and sambar.',
    '4-5 servings'
);


INSERT INTO recipe_process (
    preparation_time,
    cooking_time,
    ingredients,
    recipe_procedure,
    serve
) VALUES (
    '30 mins',
    '45 mins',
    'For Idli batter:
    2 cups rice
    1 cup split urad dal (black gram)
    1/2 tsp fenugreek seeds (optional)
    Water (for soaking and grinding)
    Salt to taste
    
    For Sambar:
    1 cup toor dal (yellow pigeon peas)
    1 onion, finely chopped
    1 tomato, chopped
    1 carrot, diced
    1 potato, diced
    1/2 cup tamarind pulp
    1 tbsp sambar powder
    1 tsp mustard seeds
    1 tsp cumin seeds
    1/4 tsp turmeric powder
    2-3 dried red chilies
    1-2 tbsp oil
    Salt to taste
    Fresh coriander leaves, chopped (for garnish)',
    '1. Rinse the rice, urad dal, and fenugreek seeds. Soak them separately for 4-6 hours or overnight.  
    2. Drain and grind the soaked ingredients into a smooth batter with water, resembling pancake batter consistency.  
    3. Allow the batter to ferment for 8-12 hours or overnight.  
    4. To make the sambar, cook the toor dal in a pressure cooker with 2 cups of water for 3-4 whistles.  
    5. In a pan, heat oil and add mustard seeds, cumin seeds, dried red chilies, and turmeric. Once the mustard seeds pop, add onions, tomatoes, and cook until soft.  
    6. Add diced carrots, potatoes, and tamarind pulp. Cook for 10 minutes.  
    7. Add the cooked toor dal, sambar powder, salt, and 1-2 cups of water. Bring to a boil and simmer for 15 minutes.  
    8. Garnish with fresh coriander leaves.  
    9. Pour the fermented idli batter into idli molds and steam for 10-15 minutes.  
    10. Serve hot idlis with sambar and coconut chutney.',
    '4-5 servings'
);


INSERT INTO recipe_process (
    preparation_time,
    cooking_time,
    ingredients,
    recipe_procedure,
    serve
) VALUES (
    '15 mins',
    '0 mins',
    '1 cucumber, finely chopped
    1 tomato, chopped
    1 carrot, julienned
    1/2 red onion, thinly sliced
    1/4 cup corn kernels
    1/4 cup bell pepper, chopped
    1 tbsp olive oil
    1 tbsp lemon juice
    Salt and pepper to taste
    Fresh coriander or parsley for garnish',
    '1. Wash and prepare all the vegetables.  
    2. In a large mixing bowl, combine cucumber, tomato, carrot, onion, corn, and bell pepper.  
    3. Drizzle olive oil and lemon juice over the salad.  
    4. Season with salt and pepper.  
    5. Toss the ingredients together until well combined.  
    6. Garnish with fresh coriander or parsley.  
    7. Serve immediately or chill for a few minutes before serving.',
    '2-3 servings'
);


INSERT INTO recipe_process (
    preparation_time,
    cooking_time,
    ingredients,
    recipe_procedure,
    serve
) VALUES (
    '20 mins',
    '30 mins',
    '1 1/2 cups all-purpose flour
    1 cup sugar
    1/2 cup cocoa powder
    1 1/2 tsp baking powder
    1/2 tsp baking soda
    1/4 tsp salt
    1/2 cup milk
    1/2 cup vegetable oil
    2 large eggs
    1 tsp vanilla extract
    1/2 cup boiling water
    For Frosting:
    1/2 cup butter, softened
    1/4 cup cocoa powder
    2 cups powdered sugar
    1/4 cup milk
    1 tsp vanilla extract',
    '1. Preheat your oven to 350°F (175°C) and grease two 9-inch round cake pans.  
    2. In a large bowl, mix together the flour, sugar, cocoa powder, baking powder, baking soda, and salt.  
    3. Add milk, vegetable oil, eggs, and vanilla extract to the dry ingredients and beat well until smooth.  
    4. Gradually add boiling water, mixing until the batter is smooth and thin.  
    5. Pour the batter evenly into the prepared cake pans and bake for 30 minutes or until a toothpick inserted comes out clean.  
    6. Let the cakes cool in the pans for 10 minutes before transferring them to a wire rack to cool completely.  
    7. For the frosting, beat together the softened butter, cocoa powder, powdered sugar, milk, and vanilla until smooth and creamy.  
    8. Frost the cooled cakes with the chocolate frosting.  
    9. Serve and enjoy!',
    '8-10 servings'
);


ALTER TABLE recipe_process
ADD CONSTRAINT fk_recipe
FOREIGN KEY (recipe_id) REFERENCES recipe_list(id)
ON DELETE CASCADE;

ALTER TABLE recipe_process ADD recipe_id INT

SET @i = 0;

UPDATE recipe_process
SET recipe_id = (@i := @i + 1)
ORDER BY id
LIMIT 20;
DELETE FROM recipe_list WHERE id = 21

SELECT * FROM recipe_list JOIN recipe_process ON recipe_process.recipe_id = recipe_list.id WHERE recipe_list.id = 1
